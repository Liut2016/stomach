{"remainingRequest":"/home/liutao/Project/0/oncology/node_modules/@angular-devkit/build-optimizer/src/build-optimizer/webpack-loader.js??ref--8-1!/home/liutao/Project/0/oncology/node_modules/@swimlane/ngx-datatable/release/components/body/scroller.component.js","dependencies":[{"path":"/home/liutao/Project/0/oncology/node_modules/@swimlane/ngx-datatable/release/components/body/scroller.component.js","mtime":1511963642000},{"path":"/home/liutao/Project/0/oncology/node_modules/cache-loader/dist/cjs.js","mtime":1539266424898},{"path":"/home/liutao/Project/0/oncology/node_modules/@angular-devkit/build-optimizer/src/build-optimizer/webpack-loader.js","mtime":1526531406000}],"contextDependencies":[],"result":["\"use strict\";\nvar __decorate = /*@__PURE__*/ require(\"tslib\").__decorate;\nvar __metadata = /*@__PURE__*/ require(\"tslib\").__metadata;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = require(\"@angular/core\");\nvar ScrollerComponent = /*@__PURE__*/ (function () {\n    function ScrollerComponent(ngZone, element) {\n        this.ngZone = ngZone;\n        this.scrollbarV = false;\n        this.scrollbarH = false;\n        this.scroll = new core_1.EventEmitter();\n        this.scrollYPos = 0;\n        this.scrollXPos = 0;\n        this.prevScrollYPos = 0;\n        this.prevScrollXPos = 0;\n        this.element = element.nativeElement;\n    }\n    ScrollerComponent.prototype.ngOnInit = function () {\n        var _this = this;\n        // manual bind so we don't always listen\n        if (this.scrollbarV || this.scrollbarH) {\n            this.parentElement = this.element.parentElement.parentElement;\n            this.ngZone.runOutsideAngular(function () {\n                _this.parentElement.addEventListener('scroll', _this.onScrolled.bind(_this));\n            });\n        }\n    };\n    ScrollerComponent.prototype.ngOnDestroy = function () {\n        if (this.scrollbarV || this.scrollbarH) {\n            this.parentElement.removeEventListener('scroll', this.onScrolled.bind(this));\n        }\n    };\n    ScrollerComponent.prototype.setOffset = function (offsetY) {\n        if (this.parentElement) {\n            this.parentElement.scrollTop = offsetY;\n        }\n    };\n    ScrollerComponent.prototype.onScrolled = function (event) {\n        var _this = this;\n        var dom = event.currentTarget;\n        requestAnimationFrame(function () {\n            _this.scrollYPos = dom.scrollTop;\n            _this.scrollXPos = dom.scrollLeft;\n            _this.updateOffset();\n        });\n    };\n    ScrollerComponent.prototype.updateOffset = function () {\n        var direction;\n        if (this.scrollYPos < this.prevScrollYPos) {\n            direction = 'down';\n        }\n        else if (this.scrollYPos > this.prevScrollYPos) {\n            direction = 'up';\n        }\n        this.scroll.emit({\n            direction: direction,\n            scrollYPos: this.scrollYPos,\n            scrollXPos: this.scrollXPos\n        });\n        this.prevScrollYPos = this.scrollYPos;\n        this.prevScrollXPos = this.scrollXPos;\n    };\n    __decorate([\n        core_1.Input(),\n        __metadata(\"design:type\", Boolean)\n    ], ScrollerComponent.prototype, \"scrollbarV\", void 0);\n    __decorate([\n        core_1.Input(),\n        __metadata(\"design:type\", Boolean)\n    ], ScrollerComponent.prototype, \"scrollbarH\", void 0);\n    __decorate([\n        core_1.HostBinding('style.height.px'),\n        core_1.Input(),\n        __metadata(\"design:type\", Number)\n    ], ScrollerComponent.prototype, \"scrollHeight\", void 0);\n    __decorate([\n        core_1.HostBinding('style.width.px'),\n        core_1.Input(),\n        __metadata(\"design:type\", Number)\n    ], ScrollerComponent.prototype, \"scrollWidth\", void 0);\n    __decorate([\n        core_1.Output(),\n        __metadata(\"design:type\", core_1.EventEmitter)\n    ], ScrollerComponent.prototype, \"scroll\", void 0);\n    ScrollerComponent = __decorate([\n        core_1.Component({\n            selector: 'datatable-scroller',\n            template: \"\\n    <ng-content></ng-content>\\n  \",\n            host: {\n                class: 'datatable-scroll'\n            },\n            changeDetection: core_1.ChangeDetectionStrategy.OnPush\n        })\n    ], ScrollerComponent);\n    return ScrollerComponent;\n}());\nexports.ScrollerComponent = ScrollerComponent;\n",null]}
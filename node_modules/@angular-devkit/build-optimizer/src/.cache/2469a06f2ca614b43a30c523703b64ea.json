{"remainingRequest":"/home/liutao/Project/0/oncology/node_modules/@angular-devkit/build-optimizer/src/build-optimizer/webpack-loader.js??ref--8-1!/home/liutao/Project/0/oncology/node_modules/@swimlane/ngx-datatable/release/directives/visibility.directive.js","dependencies":[{"path":"/home/liutao/Project/0/oncology/node_modules/@swimlane/ngx-datatable/release/directives/visibility.directive.js","mtime":1511963642000},{"path":"/home/liutao/Project/0/oncology/node_modules/cache-loader/dist/cjs.js","mtime":1539266424898},{"path":"/home/liutao/Project/0/oncology/node_modules/@angular-devkit/build-optimizer/src/build-optimizer/webpack-loader.js","mtime":1526531406000}],"contextDependencies":[],"result":["\"use strict\";\nvar __decorate = /*@__PURE__*/ require(\"tslib\").__decorate;\nvar __metadata = /*@__PURE__*/ require(\"tslib\").__metadata;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = require(\"@angular/core\");\n/**\n * Visibility Observer Directive\n *\n * Usage:\n *\n * \t\t<div\n * \t\t\tvisibilityObserver\n * \t\t\t(visible)=\"onVisible($event)\">\n * \t\t</div>\n *\n */\nvar VisibilityDirective = /*@__PURE__*/ (function () {\n    function VisibilityDirective(element, zone) {\n        this.element = element;\n        this.zone = zone;\n        this.isVisible = false;\n        this.visible = new core_1.EventEmitter();\n    }\n    VisibilityDirective.prototype.ngOnInit = function () {\n        this.runCheck();\n    };\n    VisibilityDirective.prototype.ngOnDestroy = function () {\n        clearTimeout(this.timeout);\n    };\n    VisibilityDirective.prototype.onVisibilityChange = function () {\n        var _this = this;\n        // trigger zone recalc for columns\n        this.zone.run(function () {\n            _this.isVisible = true;\n            _this.visible.emit(true);\n        });\n    };\n    VisibilityDirective.prototype.runCheck = function () {\n        var _this = this;\n        var check = function () {\n            // https://davidwalsh.name/offsetheight-visibility\n            var _a = _this.element.nativeElement, offsetHeight = _a.offsetHeight, offsetWidth = _a.offsetWidth;\n            if (offsetHeight && offsetWidth) {\n                clearTimeout(_this.timeout);\n                _this.onVisibilityChange();\n            }\n            else {\n                clearTimeout(_this.timeout);\n                _this.zone.runOutsideAngular(function () {\n                    _this.timeout = setTimeout(function () { return check(); }, 50);\n                });\n            }\n        };\n        this.timeout = setTimeout(function () { return check(); });\n    };\n    __decorate([\n        core_1.HostBinding('class.visible'),\n        __metadata(\"design:type\", Boolean)\n    ], VisibilityDirective.prototype, \"isVisible\", void 0);\n    __decorate([\n        core_1.Output(),\n        __metadata(\"design:type\", core_1.EventEmitter)\n    ], VisibilityDirective.prototype, \"visible\", void 0);\n    VisibilityDirective = __decorate([\n        core_1.Directive({ selector: '[visibilityObserver]' })\n    ], VisibilityDirective);\n    return VisibilityDirective;\n}());\nexports.VisibilityDirective = VisibilityDirective;\n",null]}
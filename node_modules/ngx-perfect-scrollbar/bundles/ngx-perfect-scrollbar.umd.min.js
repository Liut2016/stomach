(function(global,factory){typeof exports==="object"&&typeof module!=="undefined"?factory(exports,require("rxjs/Subject"),require("@angular/core"),require("@angular/common")):typeof define==="function"&&define.amd?define(["exports","rxjs/Subject","@angular/core","@angular/common"],factory):factory((global.zef=global.zef||{},global.zef.ngxPerfectScrollbar={}),global.Rx,global.ng.core,global.ng.common)})(this,function(exports,Subject,core,common){"use strict";"use strict";var Observable_1=require("../../Observable");var throttleTime_1=require("../../operator/throttleTime");Observable_1.Observable.prototype.throttleTime=throttleTime_1.throttleTime;"use strict";var Observable_1$1=require("../../Observable");var distinctUntilChanged_1=require("../../operator/distinctUntilChanged");Observable_1$1.Observable.prototype.distinctUntilChanged=distinctUntilChanged_1.distinctUntilChanged;function get(element){return getComputedStyle(element)}function set(element,obj){for(var key in obj){var val=obj[key];if(typeof val==="number"){val=val+"px"}element.style[key]=val}return element}function div(className){var div=document.createElement("div");div.className=className;return div}var elMatches=Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.msMatchesSelector;function matches(element,query){if(!elMatches){throw new Error("No element matching method supported")}return elMatches.call(element,query)}function remove(element){if(element.remove){element.remove()}else{if(element.parentNode){element.parentNode.removeChild(element)}}}function queryChildren(element,selector){return Array.prototype.filter.call(element.children,function(child){return matches(child,selector)})}var cls={main:"ps",element:{thumb:function(x){return"ps__thumb-"+x},rail:function(x){return"ps__rail-"+x},consuming:"ps__child--consume"},state:{focus:"ps--focus",active:function(x){return"ps--active-"+x},scrolling:function(x){return"ps--scrolling-"+x}}};var scrollingClassTimeout={x:null,y:null};function addScrollingClass(i,x){var classList=i.element.classList;var className=cls.state.scrolling(x);if(classList.contains(className)){clearTimeout(scrollingClassTimeout[x])}else{classList.add(className)}}function removeScrollingClass(i,x){scrollingClassTimeout[x]=setTimeout(function(){return i.isAlive&&i.element.classList.remove(cls.state.scrolling(x))},i.settings.scrollingThreshold)}function setScrollingClassInstantly(i,x){addScrollingClass(i,x);removeScrollingClass(i,x)}var EventElement=function EventElement(element){this.element=element;this.handlers={}};var prototypeAccessors={isEmpty:{configurable:true}};EventElement.prototype.bind=function bind(eventName,handler){if(typeof this.handlers[eventName]==="undefined"){this.handlers[eventName]=[]}this.handlers[eventName].push(handler);this.element.addEventListener(eventName,handler,false)};EventElement.prototype.unbind=function unbind(eventName,target){var this$1=this;this.handlers[eventName]=this.handlers[eventName].filter(function(handler){if(target&&handler!==target){return true}this$1.element.removeEventListener(eventName,handler,false);return false})};EventElement.prototype.unbindAll=function unbindAll(){var this$1=this;for(var name in this$1.handlers){this$1.unbind(name)}};prototypeAccessors.isEmpty.get=function(){var this$1=this;return Object.keys(this.handlers).every(function(key){return this$1.handlers[key].length===0})};Object.defineProperties(EventElement.prototype,prototypeAccessors);var EventManager=function EventManager(){this.eventElements=[]};EventManager.prototype.eventElement=function eventElement(element){var ee=this.eventElements.filter(function(ee){return ee.element===element})[0];if(!ee){ee=new EventElement(element);this.eventElements.push(ee)}return ee};EventManager.prototype.bind=function bind(element,eventName,handler){this.eventElement(element).bind(eventName,handler)};EventManager.prototype.unbind=function unbind(element,eventName,handler){var ee=this.eventElement(element);ee.unbind(eventName,handler);if(ee.isEmpty){this.eventElements.splice(this.eventElements.indexOf(ee),1)}};EventManager.prototype.unbindAll=function unbindAll(){this.eventElements.forEach(function(e){return e.unbindAll()});this.eventElements=[]};EventManager.prototype.once=function once(element,eventName,handler){var ee=this.eventElement(element);var onceHandler=function(evt){ee.unbind(eventName,onceHandler);handler(evt)};ee.bind(eventName,onceHandler)};function createEvent(name){if(typeof window.CustomEvent==="function"){return new CustomEvent(name)}else{var evt=document.createEvent("CustomEvent");evt.initCustomEvent(name,false,false,undefined);return evt}}var processScrollDiff=function(i,axis,diff,useScrollingClass,forceFireReachEvent){if(useScrollingClass===void 0)useScrollingClass=true;if(forceFireReachEvent===void 0)forceFireReachEvent=false;var fields;if(axis==="top"){fields=["contentHeight","containerHeight","scrollTop","y","up","down"]}else if(axis==="left"){fields=["contentWidth","containerWidth","scrollLeft","x","left","right"]}else{throw new Error("A proper axis should be provided")}processScrollDiff$1(i,diff,fields,useScrollingClass,forceFireReachEvent)};function processScrollDiff$1(i,diff,ref,useScrollingClass,forceFireReachEvent){var contentHeight=ref[0];var containerHeight=ref[1];var scrollTop=ref[2];var y=ref[3];var up=ref[4];var down=ref[5];if(useScrollingClass===void 0)useScrollingClass=true;if(forceFireReachEvent===void 0)forceFireReachEvent=false;var element=i.element;i.reach[y]=null;if(element[scrollTop]<1){i.reach[y]="start"}if(element[scrollTop]>i[contentHeight]-i[containerHeight]-1){i.reach[y]="end"}if(diff){element.dispatchEvent(createEvent("ps-scroll-"+y));if(diff<0){element.dispatchEvent(createEvent("ps-scroll-"+up))}else if(diff>0){element.dispatchEvent(createEvent("ps-scroll-"+down))}if(useScrollingClass){setScrollingClassInstantly(i,y)}}if(i.reach[y]&&(diff||forceFireReachEvent)){element.dispatchEvent(createEvent("ps-"+y+"-reach-"+i.reach[y]))}}function toInt(x){return parseInt(x,10)||0}function isEditable(el){return matches(el,"input,[contenteditable]")||matches(el,"select,[contenteditable]")||matches(el,"textarea,[contenteditable]")||matches(el,"button,[contenteditable]")}function outerWidth(element){var styles=get(element);return toInt(styles.width)+toInt(styles.paddingLeft)+toInt(styles.paddingRight)+toInt(styles.borderLeftWidth)+toInt(styles.borderRightWidth)}var env={isWebKit:document&&"WebkitAppearance"in document.documentElement.style,supportsTouch:window&&("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:navigator&&navigator.msMaxTouchPoints};var updateGeometry=function(i){var element=i.element;i.containerWidth=element.clientWidth;i.containerHeight=element.clientHeight;i.contentWidth=element.scrollWidth;i.contentHeight=element.scrollHeight;if(!element.contains(i.scrollbarXRail)){queryChildren(element,cls.element.rail("x")).forEach(function(el){return remove(el)});element.appendChild(i.scrollbarXRail)}if(!element.contains(i.scrollbarYRail)){queryChildren(element,cls.element.rail("y")).forEach(function(el){return remove(el)});element.appendChild(i.scrollbarYRail)}if(!i.settings.suppressScrollX&&i.containerWidth+i.settings.scrollXMarginOffset<i.contentWidth){i.scrollbarXActive=true;i.railXWidth=i.containerWidth-i.railXMarginWidth;i.railXRatio=i.containerWidth/i.railXWidth;i.scrollbarXWidth=getThumbSize(i,toInt(i.railXWidth*i.containerWidth/i.contentWidth));i.scrollbarXLeft=toInt((i.negativeScrollAdjustment+element.scrollLeft)*(i.railXWidth-i.scrollbarXWidth)/(i.contentWidth-i.containerWidth))}else{i.scrollbarXActive=false}if(!i.settings.suppressScrollY&&i.containerHeight+i.settings.scrollYMarginOffset<i.contentHeight){i.scrollbarYActive=true;i.railYHeight=i.containerHeight-i.railYMarginHeight;i.railYRatio=i.containerHeight/i.railYHeight;i.scrollbarYHeight=getThumbSize(i,toInt(i.railYHeight*i.containerHeight/i.contentHeight));i.scrollbarYTop=toInt(element.scrollTop*(i.railYHeight-i.scrollbarYHeight)/(i.contentHeight-i.containerHeight))}else{i.scrollbarYActive=false}if(i.scrollbarXLeft>=i.railXWidth-i.scrollbarXWidth){i.scrollbarXLeft=i.railXWidth-i.scrollbarXWidth}if(i.scrollbarYTop>=i.railYHeight-i.scrollbarYHeight){i.scrollbarYTop=i.railYHeight-i.scrollbarYHeight}updateCss(element,i);if(i.scrollbarXActive){element.classList.add(cls.state.active("x"))}else{element.classList.remove(cls.state.active("x"));i.scrollbarXWidth=0;i.scrollbarXLeft=0;element.scrollLeft=0}if(i.scrollbarYActive){element.classList.add(cls.state.active("y"))}else{element.classList.remove(cls.state.active("y"));i.scrollbarYHeight=0;i.scrollbarYTop=0;element.scrollTop=0}};function getThumbSize(i,thumbSize){if(i.settings.minScrollbarLength){thumbSize=Math.max(thumbSize,i.settings.minScrollbarLength)}if(i.settings.maxScrollbarLength){thumbSize=Math.min(thumbSize,i.settings.maxScrollbarLength)}return thumbSize}function updateCss(element,i){var xRailOffset={width:i.railXWidth};if(i.isRtl){xRailOffset.left=i.negativeScrollAdjustment+element.scrollLeft+i.containerWidth-i.contentWidth}else{xRailOffset.left=element.scrollLeft}if(i.isScrollbarXUsingBottom){xRailOffset.bottom=i.scrollbarXBottom-element.scrollTop}else{xRailOffset.top=i.scrollbarXTop+element.scrollTop}set(i.scrollbarXRail,xRailOffset);var yRailOffset={top:element.scrollTop,height:i.railYHeight};if(i.isScrollbarYUsingRight){if(i.isRtl){yRailOffset.right=i.contentWidth-(i.negativeScrollAdjustment+element.scrollLeft)-i.scrollbarYRight-i.scrollbarYOuterWidth}else{yRailOffset.right=i.scrollbarYRight-element.scrollLeft}}else{if(i.isRtl){yRailOffset.left=i.negativeScrollAdjustment+element.scrollLeft+i.containerWidth*2-i.contentWidth-i.scrollbarYLeft-i.scrollbarYOuterWidth}else{yRailOffset.left=i.scrollbarYLeft+element.scrollLeft}}set(i.scrollbarYRail,yRailOffset);set(i.scrollbarX,{left:i.scrollbarXLeft,width:i.scrollbarXWidth-i.railBorderXWidth});set(i.scrollbarY,{top:i.scrollbarYTop,height:i.scrollbarYHeight-i.railBorderYWidth})}var clickRail=function(i){i.event.bind(i.scrollbarY,"mousedown",function(e){return e.stopPropagation()});i.event.bind(i.scrollbarYRail,"mousedown",function(e){var positionTop=e.pageY-window.pageYOffset-i.scrollbarYRail.getBoundingClientRect().top;var direction=positionTop>i.scrollbarYTop?1:-1;i.element.scrollTop+=direction*i.containerHeight;updateGeometry(i);e.stopPropagation()});i.event.bind(i.scrollbarX,"mousedown",function(e){return e.stopPropagation()});i.event.bind(i.scrollbarXRail,"mousedown",function(e){var positionLeft=e.pageX-window.pageXOffset-i.scrollbarXRail.getBoundingClientRect().left;var direction=positionLeft>i.scrollbarXLeft?1:-1;i.element.scrollLeft+=direction*i.containerWidth;updateGeometry(i);e.stopPropagation()})};var dragThumb=function(i){bindMouseScrollHandler(i,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x"]);bindMouseScrollHandler(i,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y"])};function bindMouseScrollHandler(i,ref){var containerHeight=ref[0];var contentHeight=ref[1];var pageY=ref[2];var railYHeight=ref[3];var scrollbarY=ref[4];var scrollbarYHeight=ref[5];var scrollTop=ref[6];var y=ref[7];var element=i.element;var startingScrollTop=null;var startingMousePageY=null;var scrollBy=null;function mouseMoveHandler(e){element[scrollTop]=startingScrollTop+scrollBy*(e[pageY]-startingMousePageY);addScrollingClass(i,y);updateGeometry(i);e.stopPropagation();e.preventDefault()}function mouseUpHandler(){removeScrollingClass(i,y);i.event.unbind(i.ownerDocument,"mousemove",mouseMoveHandler)}i.event.bind(i[scrollbarY],"mousedown",function(e){startingScrollTop=element[scrollTop];startingMousePageY=e[pageY];scrollBy=(i[contentHeight]-i[containerHeight])/(i[railYHeight]-i[scrollbarYHeight]);i.event.bind(i.ownerDocument,"mousemove",mouseMoveHandler);i.event.once(i.ownerDocument,"mouseup",mouseUpHandler);e.stopPropagation();e.preventDefault()})}var keyboard=function(i){var element=i.element;var elementHovered=function(){return matches(element,":hover")};var scrollbarFocused=function(){return matches(i.scrollbarX,":focus")||matches(i.scrollbarY,":focus")};function shouldPreventDefault(deltaX,deltaY){var scrollTop=element.scrollTop;if(deltaX===0){if(!i.scrollbarYActive){return false}if(scrollTop===0&&deltaY>0||scrollTop>=i.contentHeight-i.containerHeight&&deltaY<0){return!i.settings.wheelPropagation}}var scrollLeft=element.scrollLeft;if(deltaY===0){if(!i.scrollbarXActive){return false}if(scrollLeft===0&&deltaX<0||scrollLeft>=i.contentWidth-i.containerWidth&&deltaX>0){return!i.settings.wheelPropagation}}return true}i.event.bind(i.ownerDocument,"keydown",function(e){if(e.isDefaultPrevented&&e.isDefaultPrevented()||e.defaultPrevented){return}if(!elementHovered()&&!scrollbarFocused()){return}var activeElement=document.activeElement?document.activeElement:i.ownerDocument.activeElement;if(activeElement){if(activeElement.tagName==="IFRAME"){activeElement=activeElement.contentDocument.activeElement}else{while(activeElement.shadowRoot){activeElement=activeElement.shadowRoot.activeElement}}if(isEditable(activeElement)){return}}var deltaX=0;var deltaY=0;switch(e.which){case 37:if(e.metaKey){deltaX=-i.contentWidth}else if(e.altKey){deltaX=-i.containerWidth}else{deltaX=-30}break;case 38:if(e.metaKey){deltaY=i.contentHeight}else if(e.altKey){deltaY=i.containerHeight}else{deltaY=30}break;case 39:if(e.metaKey){deltaX=i.contentWidth}else if(e.altKey){deltaX=i.containerWidth}else{deltaX=30}break;case 40:if(e.metaKey){deltaY=-i.contentHeight}else if(e.altKey){deltaY=-i.containerHeight}else{deltaY=-30}break;case 32:if(e.shiftKey){deltaY=i.containerHeight}else{deltaY=-i.containerHeight}break;case 33:deltaY=i.containerHeight;break;case 34:deltaY=-i.containerHeight;break;case 36:deltaY=i.contentHeight;break;case 35:deltaY=-i.contentHeight;break;default:return}if(i.settings.suppressScrollX&&deltaX!==0){return}if(i.settings.suppressScrollY&&deltaY!==0){return}element.scrollTop-=deltaY;element.scrollLeft+=deltaX;updateGeometry(i);if(shouldPreventDefault(deltaX,deltaY)){e.preventDefault()}})};var wheel=function(i){var element=i.element;function shouldPreventDefault(deltaX,deltaY){var scrollTop=element.scrollTop;if(deltaX===0){if(!i.scrollbarYActive){return false}if(scrollTop===0&&deltaY>0||scrollTop>=i.contentHeight-i.containerHeight&&deltaY<0){return!i.settings.wheelPropagation}}var scrollLeft=element.scrollLeft;if(deltaY===0){if(!i.scrollbarXActive){return false}if(scrollLeft===0&&deltaX<0||scrollLeft>=i.contentWidth-i.containerWidth&&deltaX>0){return!i.settings.wheelPropagation}}return true}function getDeltaFromEvent(e){var deltaX=e.deltaX;var deltaY=-1*e.deltaY;if(typeof deltaX==="undefined"||typeof deltaY==="undefined"){deltaX=-1*e.wheelDeltaX/6;deltaY=e.wheelDeltaY/6}if(e.deltaMode&&e.deltaMode===1){deltaX*=10;deltaY*=10}if(deltaX!==deltaX&&deltaY!==deltaY){deltaX=0;deltaY=e.wheelDelta}if(e.shiftKey){return[-deltaY,-deltaX]}return[deltaX,deltaY]}function shouldBeConsumedByChild(target,deltaX,deltaY){if(!env.isWebKit&&element.querySelector("select:focus")){return true}if(!element.contains(target)){return false}var cursor=target;while(cursor&&cursor!==element){if(cursor.classList.contains(cls.element.consuming)){return true}var style=get(cursor);var overflow=[style.overflow,style.overflowX,style.overflowY].join("");if(overflow.match(/(scroll|auto)/)){var maxScrollTop=cursor.scrollHeight-cursor.clientHeight;if(maxScrollTop>0){if(!(cursor.scrollTop===0&&deltaY>0)&&!(cursor.scrollTop===maxScrollTop&&deltaY<0)){return true}}var maxScrollLeft=cursor.scrollLeft-cursor.clientWidth;if(maxScrollLeft>0){if(!(cursor.scrollLeft===0&&deltaX<0)&&!(cursor.scrollLeft===maxScrollLeft&&deltaX>0)){return true}}}cursor=cursor.parentNode}return false}function mousewheelHandler(e){var ref=getDeltaFromEvent(e);var deltaX=ref[0];var deltaY=ref[1];if(shouldBeConsumedByChild(e.target,deltaX,deltaY)){return}var shouldPrevent=false;if(!i.settings.useBothWheelAxes){element.scrollTop-=deltaY*i.settings.wheelSpeed;element.scrollLeft+=deltaX*i.settings.wheelSpeed}else if(i.scrollbarYActive&&!i.scrollbarXActive){if(deltaY){element.scrollTop-=deltaY*i.settings.wheelSpeed}else{element.scrollTop+=deltaX*i.settings.wheelSpeed}shouldPrevent=true}else if(i.scrollbarXActive&&!i.scrollbarYActive){if(deltaX){element.scrollLeft+=deltaX*i.settings.wheelSpeed}else{element.scrollLeft-=deltaY*i.settings.wheelSpeed}shouldPrevent=true}updateGeometry(i);shouldPrevent=shouldPrevent||shouldPreventDefault(deltaX,deltaY);if(shouldPrevent&&!e.ctrlKey){e.stopPropagation();e.preventDefault()}}if(typeof window.onwheel!=="undefined"){i.event.bind(element,"wheel",mousewheelHandler)}else if(typeof window.onmousewheel!=="undefined"){i.event.bind(element,"mousewheel",mousewheelHandler)}};var touch=function(i){if(!env.supportsTouch&&!env.supportsIePointer){return}var element=i.element;function shouldStopOrPrevent(deltaX,deltaY){var scrollTop=element.scrollTop;var scrollLeft=element.scrollLeft;var magnitudeX=Math.abs(deltaX);var magnitudeY=Math.abs(deltaY);if(magnitudeY>magnitudeX){if(deltaY<0&&scrollTop===i.contentHeight-i.containerHeight||deltaY>0&&scrollTop===0){return{stop:!i.settings.swipePropagation,prevent:window.scrollY===0}}}else if(magnitudeX>magnitudeY){if(deltaX<0&&scrollLeft===i.contentWidth-i.containerWidth||deltaX>0&&scrollLeft===0){return{stop:!i.settings.swipePropagation,prevent:true}}}return{stop:true,prevent:true}}function applyTouchMove(differenceX,differenceY){element.scrollTop-=differenceY;element.scrollLeft-=differenceX;updateGeometry(i)}var startOffset={};var startTime=0;var speed={};var easingLoop=null;var inGlobalTouch=false;var inLocalTouch=false;function globalTouchStart(){inGlobalTouch=true}function globalTouchEnd(){inGlobalTouch=false}function getTouch(e){if(e.targetTouches){return e.targetTouches[0]}else{return e}}function shouldHandle(e){if(e.pointerType&&e.pointerType==="pen"&&e.buttons===0){return false}if(e.targetTouches&&e.targetTouches.length===1){return true}if(e.pointerType&&e.pointerType!=="mouse"&&e.pointerType!==e.MSPOINTER_TYPE_MOUSE){return true}return false}function touchStart(e){if(!shouldHandle(e)){return}inLocalTouch=true;var touch=getTouch(e);startOffset.pageX=touch.pageX;startOffset.pageY=touch.pageY;startTime=(new Date).getTime();if(easingLoop!==null){clearInterval(easingLoop)}e.stopPropagation()}function touchMove(e){if(!inLocalTouch&&i.settings.swipePropagation){touchStart(e)}if(!inGlobalTouch&&inLocalTouch&&shouldHandle(e)){var touch=getTouch(e);var currentOffset={pageX:touch.pageX,pageY:touch.pageY};var differenceX=currentOffset.pageX-startOffset.pageX;var differenceY=currentOffset.pageY-startOffset.pageY;applyTouchMove(differenceX,differenceY);startOffset=currentOffset;var currentTime=(new Date).getTime();var timeGap=currentTime-startTime;if(timeGap>0){speed.x=differenceX/timeGap;speed.y=differenceY/timeGap;startTime=currentTime}var ref=shouldStopOrPrevent(differenceX,differenceY);var stop=ref.stop;var prevent=ref.prevent;if(stop){e.stopPropagation()}if(prevent){e.preventDefault()}}}function touchEnd(){if(!inGlobalTouch&&inLocalTouch){inLocalTouch=false;if(i.settings.swipeEasing){clearInterval(easingLoop);easingLoop=setInterval(function(){if(i.isInitialized){clearInterval(easingLoop);return}if(!speed.x&&!speed.y){clearInterval(easingLoop);return}if(Math.abs(speed.x)<.01&&Math.abs(speed.y)<.01){clearInterval(easingLoop);return}applyTouchMove(speed.x*30,speed.y*30);speed.x*=.8;speed.y*=.8},10)}}}if(env.supportsTouch){i.event.bind(window,"touchstart",globalTouchStart);i.event.bind(window,"touchend",globalTouchEnd);i.event.bind(element,"touchstart",touchStart);i.event.bind(element,"touchmove",touchMove);i.event.bind(element,"touchend",touchEnd)}else if(env.supportsIePointer){if(window.PointerEvent){i.event.bind(window,"pointerdown",globalTouchStart);i.event.bind(window,"pointerup",globalTouchEnd);i.event.bind(element,"pointerdown",touchStart);i.event.bind(element,"pointermove",touchMove);i.event.bind(element,"pointerup",touchEnd)}else if(window.MSPointerEvent){i.event.bind(window,"MSPointerDown",globalTouchStart);i.event.bind(window,"MSPointerUp",globalTouchEnd);i.event.bind(element,"MSPointerDown",touchStart);i.event.bind(element,"MSPointerMove",touchMove);i.event.bind(element,"MSPointerUp",touchEnd)}}};var defaultSettings=function(){return{handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:false,suppressScrollY:false,swipePropagation:true,swipeEasing:true,useBothWheelAxes:false,wheelPropagation:false,wheelSpeed:1}};var handlers={"click-rail":clickRail,"drag-thumb":dragThumb,keyboard:keyboard,wheel:wheel,touch:touch};var PerfectScrollbar=function PerfectScrollbar(element,userSettings){var this$1=this;if(userSettings===void 0)userSettings={};if(typeof element==="string"){element=document.querySelector(element)}if(!element||!element.nodeName){throw new Error("no element is specified to initialize PerfectScrollbar")}this.element=element;element.classList.add(cls.main);this.settings=defaultSettings();for(var key in userSettings){this$1.settings[key]=userSettings[key]}this.containerWidth=null;this.containerHeight=null;this.contentWidth=null;this.contentHeight=null;var focus=function(){return element.classList.add(cls.state.focus)};var blur=function(){return element.classList.remove(cls.state.focus)};this.isRtl=get(element).direction==="rtl";this.isNegativeScroll=function(){var originalScrollLeft=element.scrollLeft;var result=null;element.scrollLeft=-1;result=element.scrollLeft<0;element.scrollLeft=originalScrollLeft;return result}();this.negativeScrollAdjustment=this.isNegativeScroll?element.scrollWidth-element.clientWidth:0;this.event=new EventManager;this.ownerDocument=element.ownerDocument||document;this.scrollbarXRail=div(cls.element.rail("x"));element.appendChild(this.scrollbarXRail);this.scrollbarX=div(cls.element.thumb("x"));this.scrollbarXRail.appendChild(this.scrollbarX);this.scrollbarX.setAttribute("tabindex",0);this.event.bind(this.scrollbarX,"focus",focus);this.event.bind(this.scrollbarX,"blur",blur);this.scrollbarXActive=null;this.scrollbarXWidth=null;this.scrollbarXLeft=null;var railXStyle=get(this.scrollbarXRail);this.scrollbarXBottom=parseInt(railXStyle.bottom,10);if(isNaN(this.scrollbarXBottom)){this.isScrollbarXUsingBottom=false;this.scrollbarXTop=toInt(railXStyle.top)}else{this.isScrollbarXUsingBottom=true}this.railBorderXWidth=toInt(railXStyle.borderLeftWidth)+toInt(railXStyle.borderRightWidth);set(this.scrollbarXRail,{display:"block"});this.railXMarginWidth=toInt(railXStyle.marginLeft)+toInt(railXStyle.marginRight);set(this.scrollbarXRail,{display:""});this.railXWidth=null;this.railXRatio=null;this.scrollbarYRail=div(cls.element.rail("y"));element.appendChild(this.scrollbarYRail);this.scrollbarY=div(cls.element.thumb("y"));this.scrollbarYRail.appendChild(this.scrollbarY);this.scrollbarY.setAttribute("tabindex",0);this.event.bind(this.scrollbarY,"focus",focus);this.event.bind(this.scrollbarY,"blur",blur);this.scrollbarYActive=null;this.scrollbarYHeight=null;this.scrollbarYTop=null;var railYStyle=get(this.scrollbarYRail);this.scrollbarYRight=parseInt(railYStyle.right,10);if(isNaN(this.scrollbarYRight)){this.isScrollbarYUsingRight=false;this.scrollbarYLeft=toInt(railYStyle.left)}else{this.isScrollbarYUsingRight=true}this.scrollbarYOuterWidth=this.isRtl?outerWidth(this.scrollbarY):null;this.railBorderYWidth=toInt(railYStyle.borderTopWidth)+toInt(railYStyle.borderBottomWidth);set(this.scrollbarYRail,{display:"block"});this.railYMarginHeight=toInt(railYStyle.marginTop)+toInt(railYStyle.marginBottom);set(this.scrollbarYRail,{display:""});this.railYHeight=null;this.railYRatio=null;this.reach={x:element.scrollLeft<=0?"start":element.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:element.scrollTop<=0?"start":element.scrollTop>=this.contentHeight-this.containerHeight?"end":null};this.isAlive=true;this.settings.handlers.forEach(function(handlerName){return handlers[handlerName](this$1)});this.lastScrollTop=element.scrollTop;this.lastScrollLeft=element.scrollLeft;this.event.bind(this.element,"scroll",function(e){return this$1.onScroll(e)});updateGeometry(this)};PerfectScrollbar.prototype.update=function update(){if(!this.isAlive){return}this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0;set(this.scrollbarXRail,{display:"block"});set(this.scrollbarYRail,{display:"block"});this.railXMarginWidth=toInt(get(this.scrollbarXRail).marginLeft)+toInt(get(this.scrollbarXRail).marginRight);this.railYMarginHeight=toInt(get(this.scrollbarYRail).marginTop)+toInt(get(this.scrollbarYRail).marginBottom);set(this.scrollbarXRail,{display:"none"});set(this.scrollbarYRail,{display:"none"});updateGeometry(this);processScrollDiff(this,"top",0,false,true);processScrollDiff(this,"left",0,false,true);set(this.scrollbarXRail,{display:""});set(this.scrollbarYRail,{display:""})};PerfectScrollbar.prototype.onScroll=function onScroll(e){if(!this.isAlive){return}updateGeometry(this);processScrollDiff(this,"top",this.element.scrollTop-this.lastScrollTop);processScrollDiff(this,"left",this.element.scrollLeft-this.lastScrollLeft);this.lastScrollTop=this.element.scrollTop;this.lastScrollLeft=this.element.scrollLeft};PerfectScrollbar.prototype.destroy=function destroy(){if(!this.isAlive){return}this.event.unbindAll();remove(this.scrollbarX);remove(this.scrollbarY);remove(this.scrollbarXRail);remove(this.scrollbarYRail);this.removePsClasses();this.element=null;this.scrollbarX=null;this.scrollbarY=null;this.scrollbarXRail=null;this.scrollbarYRail=null;this.isAlive=false};PerfectScrollbar.prototype.removePsClasses=function removePsClasses(){this.element.className=this.element.className.split(" ").filter(function(name){return!name.match(/^ps([-_].+|)$/)}).join(" ")};var MapShim=function(){if(typeof Map!="undefined"){return Map}function getIndex(arr,key){var result=-1;arr.some(function(entry,index){if(entry[0]===key){result=index;return true}return false});return result}return function(){function anonymous(){this.__entries__=[]}var prototypeAccessors={size:{}};prototypeAccessors.size.get=function(){return this.__entries__.length};anonymous.prototype.get=function(key){var index=getIndex(this.__entries__,key);var entry=this.__entries__[index];return entry&&entry[1]};anonymous.prototype.set=function(key,value){var index=getIndex(this.__entries__,key);if(~index){this.__entries__[index][1]=value}else{this.__entries__.push([key,value])}};anonymous.prototype.delete=function(key){var entries=this.__entries__;var index=getIndex(entries,key);if(~index){entries.splice(index,1)}};anonymous.prototype.has=function(key){return!!~getIndex(this.__entries__,key)};anonymous.prototype.clear=function(){this.__entries__.splice(0)};anonymous.prototype.forEach=function(callback,ctx){if(ctx===void 0)ctx=null;for(var i=0,list=this.__entries__;i<list.length;i+=1){var entry=list[i];callback.call(ctx,entry[1],entry[0])}};Object.defineProperties(anonymous.prototype,prototypeAccessors);return anonymous}()}();var isBrowser=typeof window!="undefined"&&typeof document!="undefined"&&window.document===document;var requestAnimationFrame$1=function(){if(typeof requestAnimationFrame==="function"){return requestAnimationFrame}return function(callback){return setTimeout(function(){return callback(Date.now())},1e3/60)}}();var trailingTimeout=2;var throttle=function(callback,delay){var leadingCall=false,trailingCall=false,lastCallTime=0;function resolvePending(){if(leadingCall){leadingCall=false;callback()}if(trailingCall){proxy()}}function timeoutCallback(){requestAnimationFrame$1(resolvePending)}function proxy(){var timeStamp=Date.now();if(leadingCall){if(timeStamp-lastCallTime<trailingTimeout){return}trailingCall=true}else{leadingCall=true;trailingCall=false;setTimeout(timeoutCallback,delay)}lastCallTime=timeStamp}return proxy};var REFRESH_DELAY=20;var transitionKeys=["top","right","bottom","left","width","height","size","weight"];var isIE11=typeof navigator!="undefined"&&/Trident\/.*rv:11/.test(navigator.userAgent);var mutationObserverSupported=typeof MutationObserver!="undefined"&&!isIE11;var ResizeObserverController=function(){this.connected_=false;this.mutationEventsAdded_=false;this.mutationsObserver_=null;this.observers_=[];this.onTransitionEnd_=this.onTransitionEnd_.bind(this);this.refresh=throttle(this.refresh.bind(this),REFRESH_DELAY)};ResizeObserverController.prototype.addObserver=function(observer){if(!~this.observers_.indexOf(observer)){this.observers_.push(observer)}if(!this.connected_){this.connect_()}};ResizeObserverController.prototype.removeObserver=function(observer){var observers=this.observers_;var index=observers.indexOf(observer);if(~index){observers.splice(index,1)}if(!observers.length&&this.connected_){this.disconnect_()}};ResizeObserverController.prototype.refresh=function(){var changesDetected=this.updateObservers_();if(changesDetected){this.refresh()}};ResizeObserverController.prototype.updateObservers_=function(){var activeObservers=this.observers_.filter(function(observer){return observer.gatherActive(),observer.hasActive()});activeObservers.forEach(function(observer){return observer.broadcastActive()});return activeObservers.length>0};ResizeObserverController.prototype.connect_=function(){if(!isBrowser||this.connected_){return}document.addEventListener("transitionend",this.onTransitionEnd_);window.addEventListener("resize",this.refresh);if(mutationObserverSupported){this.mutationsObserver_=new MutationObserver(this.refresh);this.mutationsObserver_.observe(document,{attributes:true,childList:true,characterData:true,subtree:true})}else{document.addEventListener("DOMSubtreeModified",this.refresh);this.mutationEventsAdded_=true}this.connected_=true};ResizeObserverController.prototype.disconnect_=function(){if(!isBrowser||!this.connected_){return}document.removeEventListener("transitionend",this.onTransitionEnd_);window.removeEventListener("resize",this.refresh);if(this.mutationsObserver_){this.mutationsObserver_.disconnect()}if(this.mutationEventsAdded_){document.removeEventListener("DOMSubtreeModified",this.refresh)}this.mutationsObserver_=null;this.mutationEventsAdded_=false;this.connected_=false};ResizeObserverController.prototype.onTransitionEnd_=function(ref){var propertyName=ref.propertyName;var isReflowProperty=transitionKeys.some(function(key){return!!~propertyName.indexOf(key)});if(isReflowProperty){this.refresh()}};ResizeObserverController.getInstance=function(){if(!this.instance_){this.instance_=new ResizeObserverController}return this.instance_};ResizeObserverController.instance_=null;var defineConfigurable=function(target,props){for(var i=0,list=Object.keys(props);i<list.length;i+=1){var key=list[i];Object.defineProperty(target,key,{value:props[key],enumerable:false,writable:false,configurable:true})}return target};var emptyRect=createRectInit(0,0,0,0);function toFloat(value){return parseFloat(value)||0}function getBordersSize(styles){var positions=Array.prototype.slice.call(arguments,1);return positions.reduce(function(size,position){var value=styles["border-"+position+"-width"];return size+toFloat(value)},0)}function getPaddings(styles){var positions=["top","right","bottom","left"];var paddings={};for(var i=0,list=positions;i<list.length;i+=1){var position=list[i];var value=styles["padding-"+position];paddings[position]=toFloat(value)}return paddings}function getSVGContentRect(target){var bbox=target.getBBox();return createRectInit(0,0,bbox.width,bbox.height)}function getHTMLElementContentRect(target){var clientWidth=target.clientWidth;var clientHeight=target.clientHeight;if(!clientWidth&&!clientHeight){return emptyRect}var styles=getComputedStyle(target);var paddings=getPaddings(styles);var horizPad=paddings.left+paddings.right;var vertPad=paddings.top+paddings.bottom;var width=toFloat(styles.width),height=toFloat(styles.height);if(styles.boxSizing==="border-box"){if(Math.round(width+horizPad)!==clientWidth){width-=getBordersSize(styles,"left","right")+horizPad}if(Math.round(height+vertPad)!==clientHeight){height-=getBordersSize(styles,"top","bottom")+vertPad}}if(!isDocumentElement(target)){var vertScrollbar=Math.round(width+horizPad)-clientWidth;var horizScrollbar=Math.round(height+vertPad)-clientHeight;if(Math.abs(vertScrollbar)!==1){width-=vertScrollbar}if(Math.abs(horizScrollbar)!==1){height-=horizScrollbar}}return createRectInit(paddings.left,paddings.top,width,height)}var isSVGGraphicsElement=function(){if(typeof SVGGraphicsElement!="undefined"){return function(target){return target instanceof SVGGraphicsElement}}return function(target){return target instanceof SVGElement&&typeof target.getBBox==="function"}}();function isDocumentElement(target){return target===document.documentElement}function getContentRect(target){if(!isBrowser){return emptyRect}if(isSVGGraphicsElement(target)){return getSVGContentRect(target)}return getHTMLElementContentRect(target)}function createReadOnlyRect(ref){var x=ref.x;var y=ref.y;var width=ref.width;var height=ref.height;var Constr=typeof DOMRectReadOnly!="undefined"?DOMRectReadOnly:Object;var rect=Object.create(Constr.prototype);defineConfigurable(rect,{x:x,y:y,width:width,height:height,top:y,right:x+width,bottom:height+y,left:x});return rect}function createRectInit(x,y,width,height){return{x:x,y:y,width:width,height:height}}var ResizeObservation=function(target){this.broadcastWidth=0;this.broadcastHeight=0;this.contentRect_=createRectInit(0,0,0,0);this.target=target};ResizeObservation.prototype.isActive=function(){var rect=getContentRect(this.target);this.contentRect_=rect;return rect.width!==this.broadcastWidth||rect.height!==this.broadcastHeight};ResizeObservation.prototype.broadcastRect=function(){var rect=this.contentRect_;this.broadcastWidth=rect.width;this.broadcastHeight=rect.height;return rect};var ResizeObserverEntry=function(target,rectInit){var contentRect=createReadOnlyRect(rectInit);defineConfigurable(this,{target:target,contentRect:contentRect})};var ResizeObserverSPI=function(callback,controller,callbackCtx){if(typeof callback!=="function"){throw new TypeError("The callback provided as parameter 1 is not a function.")}this.activeObservations_=[];this.observations_=new MapShim;this.callback_=callback;this.controller_=controller;this.callbackCtx_=callbackCtx};ResizeObserverSPI.prototype.observe=function(target){if(!arguments.length){throw new TypeError("1 argument required, but only 0 present.")}if(typeof Element==="undefined"||!(Element instanceof Object)){return}if(!(target instanceof Element)){throw new TypeError('parameter 1 is not of type "Element".')}var observations=this.observations_;if(observations.has(target)){return}observations.set(target,new ResizeObservation(target));this.controller_.addObserver(this);this.controller_.refresh()};ResizeObserverSPI.prototype.unobserve=function(target){if(!arguments.length){throw new TypeError("1 argument required, but only 0 present.")}if(typeof Element==="undefined"||!(Element instanceof Object)){return}if(!(target instanceof Element)){throw new TypeError('parameter 1 is not of type "Element".')}var observations=this.observations_;if(!observations.has(target)){return}observations.delete(target);if(!observations.size){this.controller_.removeObserver(this)}};ResizeObserverSPI.prototype.disconnect=function(){this.clearActive();this.observations_.clear();this.controller_.removeObserver(this)};ResizeObserverSPI.prototype.gatherActive=function(){var this$1=this;this.clearActive();this.observations_.forEach(function(observation){if(observation.isActive()){this$1.activeObservations_.push(observation)}})};ResizeObserverSPI.prototype.broadcastActive=function(){if(!this.hasActive()){return}var ctx=this.callbackCtx_;var entries=this.activeObservations_.map(function(observation){return new ResizeObserverEntry(observation.target,observation.broadcastRect())});this.callback_.call(ctx,entries,ctx);this.clearActive()};ResizeObserverSPI.prototype.clearActive=function(){this.activeObservations_.splice(0)};ResizeObserverSPI.prototype.hasActive=function(){return this.activeObservations_.length>0};var observers=typeof WeakMap!="undefined"?new WeakMap:new MapShim;var ResizeObserver$1=function(callback){if(!(this instanceof ResizeObserver$1)){throw new TypeError("Cannot call a class as a function")}if(!arguments.length){throw new TypeError("1 argument required, but only 0 present.")}var controller=ResizeObserverController.getInstance();var observer=new ResizeObserverSPI(callback,controller,this);observers.set(this,observer)};["observe","unobserve","disconnect"].forEach(function(method){ResizeObserver$1.prototype[method]=function(){return(ref=observers.get(this))[method].apply(ref,arguments);var ref}});var index=function(){if(typeof ResizeObserver!="undefined"){return ResizeObserver}return ResizeObserver$1}();var PERFECT_SCROLLBAR_CONFIG=new core.InjectionToken("PERFECT_SCROLLBAR_CONFIG");var Geometry=function(){function Geometry(x,y,w,h){this.x=x;this.y=y;this.w=w;this.h=h}return Geometry}();var Position=function(){function Position(x,y){this.x=x;this.y=y}return Position}();var PerfectScrollbarConfig=function(){function PerfectScrollbarConfig(config){if(config===void 0){config={}}this.assign(config)}PerfectScrollbarConfig.prototype.assign=function(config){if(config===void 0){config={}}for(var key in config){this[key]=config[key]}};return PerfectScrollbarConfig}();var PerfectScrollbarDirective=function(){function PerfectScrollbarDirective(zone,elementRef,differs,defaults){this.zone=zone;this.elementRef=elementRef;this.differs=differs;this.defaults=defaults;this.disabled=false;this.PS_SCROLL_Y=new core.EventEmitter;this.PS_SCROLL_X=new core.EventEmitter;this.PS_SCROLL_UP=new core.EventEmitter;this.PS_SCROLL_DOWN=new core.EventEmitter;this.PS_SCROLL_LEFT=new core.EventEmitter;this.PS_SCROLL_RIGHT=new core.EventEmitter;this.PS_Y_REACH_END=new core.EventEmitter;this.PS_Y_REACH_START=new core.EventEmitter;this.PS_X_REACH_END=new core.EventEmitter;this.PS_X_REACH_START=new core.EventEmitter}PerfectScrollbarDirective.prototype.emit=function(event){this[event.type.replace(/-/g,"_").toUpperCase()].emit(event)};PerfectScrollbarDirective.prototype.psScrollY=function(event){this.emit(event)};PerfectScrollbarDirective.prototype.psScrollX=function(event){this.emit(event)};PerfectScrollbarDirective.prototype.psScrollUp=function(event){this.emit(event)};PerfectScrollbarDirective.prototype.pscrollDown=function(event){this.emit(event)};PerfectScrollbarDirective.prototype.psScrollLeft=function(event){this.emit(event)};PerfectScrollbarDirective.prototype.psScrollRight=function(event){this.emit(event)};PerfectScrollbarDirective.prototype.psReachEndY=function(event){this.emit(event)};PerfectScrollbarDirective.prototype.psReachStartY=function(event){this.emit(event)};PerfectScrollbarDirective.prototype.psReachEndX=function(event){this.emit(event)};PerfectScrollbarDirective.prototype.psReachStartX=function(event){this.emit(event)};PerfectScrollbarDirective.prototype.ngOnInit=function(){var _this=this;if(!this.disabled){var config_1=new PerfectScrollbarConfig(this.defaults);config_1.assign(this.config);this.zone.runOutsideAngular(function(){_this.instance=new PerfectScrollbar(_this.elementRef.nativeElement,config_1)});if(!this.configDiff){this.configDiff=this.differs.find(this.config||{}).create();this.configDiff.diff(this.config||{})}this.zone.runOutsideAngular(function(){_this.ro=new index(function(entries,observer){_this.update()});_this.ro.observe(_this.elementRef.nativeElement)})}};PerfectScrollbarDirective.prototype.ngOnDestroy=function(){var _this=this;if(this.ro){this.ro.disconnect()}if(this.timeout){window.clearTimeout(this.timeout)}if(this.instance){this.zone.runOutsideAngular(function(){_this.instance.destroy()});this.instance=null}};PerfectScrollbarDirective.prototype.ngDoCheck=function(){if(!this.disabled&&this.configDiff){var changes=this.configDiff.diff(this.config||{});if(changes){this.ngOnDestroy();this.ngOnInit()}}};PerfectScrollbarDirective.prototype.ngOnChanges=function(changes){if(changes["disabled"]&&!changes["disabled"].isFirstChange()){if(changes["disabled"].currentValue!==changes["disabled"].previousValue){if(changes["disabled"].currentValue===true){this.ngOnDestroy()}else if(changes["disabled"].currentValue===false){this.ngOnInit()}}}};PerfectScrollbarDirective.prototype.ps=function(){return this.instance};PerfectScrollbarDirective.prototype.update=function(){var _this=this;if(this.timeout){window.clearTimeout(this.timeout)}this.timeout=window.setTimeout(function(){if(!_this.disabled&&_this.configDiff){try{_this.zone.runOutsideAngular(function(){_this.instance.update()})}catch(error){}}},0)};PerfectScrollbarDirective.prototype.geometry=function(prefix){if(prefix===void 0){prefix="scroll"}return new Geometry(this.elementRef.nativeElement[prefix+"Left"],this.elementRef.nativeElement[prefix+"Top"],this.elementRef.nativeElement[prefix+"Width"],this.elementRef.nativeElement[prefix+"Height"])};PerfectScrollbarDirective.prototype.position=function(absolute){if(absolute===void 0){absolute=false}if(!absolute){return new Position(this.instance.reach.x,this.instance.reach.y)}else{return new Position(this.elementRef.nativeElement.scrollLeft,this.elementRef.nativeElement.scrollTop)}};PerfectScrollbarDirective.prototype.scrollable=function(direction){if(direction===void 0){direction="any"}var element=this.elementRef.nativeElement;if(direction==="any"){return element.classList.contains("ps--active-x")||element.classList.contains("ps--active-y")}else if(direction==="both"){return element.classList.contains("ps--active-x")&&element.classList.contains("ps--active-y")}else{return element.classList.contains("ps--active-"+direction)}};PerfectScrollbarDirective.prototype.scrollTo=function(x,y,speed){if(!this.disabled){if(y==null&&speed==null){this.animateScrolling("scrollTop",x,speed)}else{if(x!=null){this.animateScrolling("scrollLeft",x,speed)}if(y!=null){this.animateScrolling("scrollTop",y,speed)}}}};PerfectScrollbarDirective.prototype.scrollToX=function(x,speed){this.animateScrolling("scrollLeft",x,speed)};PerfectScrollbarDirective.prototype.scrollToY=function(y,speed){this.animateScrolling("scrollTop",y,speed)};PerfectScrollbarDirective.prototype.scrollToTop=function(offset,speed){this.animateScrolling("scrollTop",offset||0,speed)};PerfectScrollbarDirective.prototype.scrollToLeft=function(offset,speed){this.animateScrolling("scrollLeft",offset||0,speed)};PerfectScrollbarDirective.prototype.scrollToRight=function(offset,speed){var left=this.elementRef.nativeElement.scrollWidth-this.elementRef.nativeElement.clientWidth;this.animateScrolling("scrollLeft",left-(offset||0),speed)};PerfectScrollbarDirective.prototype.scrollToBottom=function(offset,speed){var top=this.elementRef.nativeElement.scrollHeight-this.elementRef.nativeElement.clientHeight;this.animateScrolling("scrollTop",top-(offset||0),speed)};PerfectScrollbarDirective.prototype.animateScrolling=function(target,value,speed){var _this=this;if(!speed){var oldValue=this.elementRef.nativeElement[target];this.elementRef.nativeElement[target]=value;if(value!==oldValue){this.instance.update()}}else if(value!==this.elementRef.nativeElement[target]){var newValue_1=0;var scrollCount_1=0;var oldTimestamp_1=performance.now();var oldValue_1=this.elementRef.nativeElement[target];var cosParameter_1=(oldValue_1-value)/2;var step_1=function(newTimestamp){scrollCount_1+=Math.PI/(speed/(newTimestamp-oldTimestamp_1));newValue_1=Math.round(value+cosParameter_1+cosParameter_1*Math.cos(scrollCount_1));if(_this.elementRef.nativeElement[target]===oldValue_1){if(scrollCount_1>=Math.PI){_this.animateScrolling(target,value,0)}else{_this.elementRef.nativeElement[target]=oldValue_1=newValue_1;_this.instance.update();oldTimestamp_1=newTimestamp;window.requestAnimationFrame(step_1)}}};window.requestAnimationFrame(step_1)}};PerfectScrollbarDirective.decorators=[{type:core.Directive,args:[{selector:"[perfectScrollbar]",exportAs:"ngxPerfectScrollbar"}]}];PerfectScrollbarDirective.ctorParameters=function(){return[{type:core.NgZone},{type:core.ElementRef},{type:core.KeyValueDiffers},{type:undefined,decorators:[{type:core.Optional},{type:core.Inject,args:[PERFECT_SCROLLBAR_CONFIG]}]}]};PerfectScrollbarDirective.propDecorators={disabled:[{type:core.Input}],config:[{type:core.Input,args:["perfectScrollbar"]}],PS_SCROLL_Y:[{type:core.Output,args:["psScrollY"]}],PS_SCROLL_X:[{type:core.Output,args:["psScrollX"]}],PS_SCROLL_UP:[{type:core.Output,args:["psScrollUp"]}],PS_SCROLL_DOWN:[{type:core.Output,args:["psScrollDown"]}],PS_SCROLL_LEFT:[{type:core.Output,args:["psScrollLeft"]}],PS_SCROLL_RIGHT:[{type:core.Output,args:["psScrollRight"]}],PS_Y_REACH_END:[{type:core.Output,args:["psYReachEnd"]}],PS_Y_REACH_START:[{type:core.Output,args:["psYReachStart"]}],PS_X_REACH_END:[{type:core.Output,args:["psXReachEnd"]}],PS_X_REACH_START:[{type:core.Output,args:["psXReachStart"]}],psScrollY:[{type:core.HostListener,args:["ps-scroll-y",["$event"]]}],psScrollX:[{type:core.HostListener,args:["ps-scroll-x",["$event"]]}],psScrollUp:[{type:core.HostListener,args:["ps-scroll-up",["$event"]]}],pscrollDown:[{type:core.HostListener,args:["ps-scroll-down",["$event"]]}],psScrollLeft:[{type:core.HostListener,args:["ps-scroll-left",["$event"]]}],psScrollRight:[{type:core.HostListener,args:["ps-scroll-right",["$event"]]}],psReachEndY:[{type:core.HostListener,args:["ps-y-reach-end",["$event"]]}],psReachStartY:[{type:core.HostListener,args:["ps-y-reach-start",["$event"]]}],psReachEndX:[{type:core.HostListener,args:["ps-x-reach-end",["$event"]]}],psReachStartX:[{type:core.HostListener,args:["ps-x-reach-start",["$event"]]}]};return PerfectScrollbarDirective}();var PerfectScrollbarComponent=function(){function PerfectScrollbarComponent(cdRef,elementRef){this.cdRef=cdRef;this.elementRef=elementRef;this.states={};this.notify=null;this.userInteraction=false;this.allowPropagation=false;this.cancelEvent=null;this.timeoutState=null;this.timeoutScroll=null;this.usePropagationX=false;this.usePropagationY=false;this.statesSub=null;this.statesUpdate=new Subject.Subject;this.activeSub=null;this.activeUpdate=new Subject.Subject;this.disabled=false;this.usePSClass=true;this.autoPropagation=false;this.scrollIndicators=false;this.PS_SCROLL_Y=new core.EventEmitter;this.PS_SCROLL_X=new core.EventEmitter;this.PS_SCROLL_UP=new core.EventEmitter;this.PS_SCROLL_DOWN=new core.EventEmitter;this.PS_SCROLL_LEFT=new core.EventEmitter;this.PS_SCROLL_RIGHT=new core.EventEmitter;this.PS_Y_REACH_END=new core.EventEmitter;this.PS_Y_REACH_START=new core.EventEmitter;this.PS_X_REACH_END=new core.EventEmitter;this.PS_X_REACH_START=new core.EventEmitter}PerfectScrollbarComponent.prototype.onGeneratedEvent=function(event){if(event["psGenerated"]){event.stopPropagation()}};PerfectScrollbarComponent.prototype.ngOnInit=function(){var _this=this;this.activeSub=this.activeUpdate.distinctUntilChanged().subscribe(function(active){_this.allowPropagation=active});this.statesSub=this.statesUpdate.distinctUntilChanged().subscribe(function(state){window.clearTimeout(_this.timeoutState);if(state!=="x"&&state!=="y"){_this.notify=true;_this.states[state]=true;if(state==="top"){_this.states.bottom=false}else if(state==="bottom"){_this.states.top=false}else if(state==="left"){_this.states.rights=false}else if(state==="rights"){_this.states.left=false}_this.timeoutState=window.setTimeout(function(){_this.notify=false;if(_this.autoPropagation&&_this.userInteraction&&(!_this.usePropagationX&&(_this.states.left||_this.states.right)||!_this.usePropagationY&&(_this.states.top||_this.states.bottom))){_this.allowPropagation=true}_this.cdRef.markForCheck()},300)}else{_this.notify=false;if(state==="x"){_this.states.left=false;_this.states.right=false}else if(state==="y"){_this.states.top=false;_this.states.bottom=false}_this.userInteraction=true;if(_this.autoPropagation&&(!_this.usePropagationX||!_this.usePropagationY)){_this.allowPropagation=false;if(_this.cancelEvent){_this.elementRef.nativeElement.dispatchEvent(_this.cancelEvent);_this.cancelEvent=null}}else if(_this.scrollIndicators){_this.notify=true;_this.timeoutState=window.setTimeout(function(){_this.notify=false;_this.cdRef.markForCheck()},300)}}_this.cdRef.markForCheck();_this.cdRef.detectChanges()})};PerfectScrollbarComponent.prototype.ngOnDestroy=function(){if(this.activeSub){this.activeSub.unsubscribe()}if(this.statesSub){this.statesSub.unsubscribe()}if(this.timeoutState){window.clearTimeout(this.timeoutState)}if(this.timeoutScroll){window.clearTimeout(this.timeoutScroll)}};PerfectScrollbarComponent.prototype.ngDoCheck=function(){if(!this.disabled&&this.autoPropagation&&this.directiveRef){var element=this.directiveRef.elementRef.nativeElement;this.usePropagationX=!element.classList.contains("ps--active-x");this.usePropagationY=!element.classList.contains("ps--active-y");this.activeUpdate.next(this.usePropagationX&&this.usePropagationY)}};PerfectScrollbarComponent.prototype.getConfig=function(){var config=this.config||{};if(this.autoPropagation){config.swipePropagation=true;config.wheelPropagation=true}return config};PerfectScrollbarComponent.prototype.onTouchEnd=function(event){if(event===void 0){event=null}if(!this.disabled&&this.autoPropagation&&(!this.usePropagationX||!this.usePropagationY)){this.cancelEvent=null;this.allowPropagation=false}};PerfectScrollbarComponent.prototype.onTouchMove=function(event){if(event===void 0){event=null}if(!this.disabled&&this.autoPropagation&&!this.allowPropagation){event.preventDefault();event.stopPropagation()}};PerfectScrollbarComponent.prototype.onTouchStart=function(event){if(event===void 0){event=null}if(!this.disabled&&this.autoPropagation){this.userInteraction=true;if(this.allowPropagation){if(this.elementRef.nativeElement){var newEvent=new MouseEvent("touchstart",event);this.cancelEvent=new MouseEvent("touchmove",event);newEvent["psGenerated"]=this.cancelEvent["psGenerated"]=true;newEvent["touches"]=this.cancelEvent["touches"]=event["touches"];newEvent["targetTouches"]=this.cancelEvent["targetTouches"]=event["targetTouches"];this.elementRef.nativeElement.dispatchEvent(newEvent)}}this.cdRef.detectChanges()}};PerfectScrollbarComponent.prototype.onWheelEvent=function(event){if(event===void 0){event=null}if(!this.disabled&&this.autoPropagation){this.userInteraction=true;if(!this.allowPropagation){event.preventDefault();event.stopPropagation()}else if(!this.usePropagationX||!this.usePropagationY){this.allowPropagation=false}this.cdRef.detectChanges()}};PerfectScrollbarComponent.prototype.onScrollEvent=function(event,state){if(event===void 0){event=null}if(!this.disabled&&(this.autoPropagation||this.scrollIndicators)){this.statesUpdate.next(state)}};PerfectScrollbarComponent.decorators=[{type:core.Component,args:[{selector:"perfect-scrollbar",template:'<div style="position: static" [class.ps]="usePSClass" [perfectScrollbar]="getConfig()" [disabled]="disabled" (wheel)="onWheelEvent($event)" (touchstart)="onTouchStart($event)" (touchmove)="onTouchMove($event)" (touchend)="onTouchEnd($event)" (ps-scroll-x)="onScrollEvent($event, \'x\')" (ps-scroll-y)="onScrollEvent($event, \'y\')" (ps-x-reach-end)="onScrollEvent($event, \'right\')" (ps-y-reach-end)="onScrollEvent($event, \'bottom\')" (ps-x-reach-start)="onScrollEvent($event, \'left\')" (ps-y-reach-start)="onScrollEvent($event, \'top\')" (psScrollY)="PS_SCROLL_Y.emit($event)" (psScrollX)="PS_SCROLL_X.emit($event)" (psScrollUp)="PS_SCROLL_UP.emit($event)" (psScrollDown)="PS_SCROLL_DOWN.emit($event)" (psScrollLeft)="PS_SCROLL_LEFT.emit($event)" (psScrollRight)="PS_SCROLL_RIGHT.emit($event)" (psYReachEnd)="PS_Y_REACH_END.emit($event)" (psYReachStart)="PS_Y_REACH_START.emit($event)" (psXReachEnd)="PS_X_REACH_END.emit($event)" (psXReachStart)="PS_X_REACH_START.emit($event)"><div class="ps-content"><ng-content></ng-content></div><div *ngIf="autoPropagation || scrollIndicators" class="ps-overlay" [class.ps-at-top]="states.top" [class.ps-at-left]="states.left" [class.ps-at-right]="states.right" [class.ps-at-bottom]="states.bottom"><div class="ps-indicator-top" [class.ps-notify]="notify && userInteraction"></div><div class="ps-indicator-left" [class.ps-notify]="notify && userInteraction"></div><div class="ps-indicator-right" [class.ps-notify]="notify && userInteraction"></div><div class="ps-indicator-bottom" [class.ps-notify]="notify && userInteraction"></div></div></div>',styles:[".ps{overflow:hidden!important;overflow-anchor:none;-ms-overflow-style:none;touch-action:auto;-ms-touch-action:auto}.ps__rail-x{display:none;opacity:0;transition:background-color .2s linear,opacity .2s linear;-webkit-transition:background-color .2s linear,opacity .2s linear;height:15px;bottom:0;position:absolute}.ps__rail-y{display:none;opacity:0;transition:background-color .2s linear,opacity .2s linear;-webkit-transition:background-color .2s linear,opacity .2s linear;width:15px;right:0;position:absolute}.ps--active-x>.ps__rail-x,.ps--active-y>.ps__rail-y{display:block;background-color:transparent}.ps--focus>.ps__rail-x,.ps--focus>.ps__rail-y,.ps--scrolling-x>.ps__rail-x,.ps--scrolling-y>.ps__rail-y,.ps:hover>.ps__rail-x,.ps:hover>.ps__rail-y{opacity:.6}.ps__rail-x:focus,.ps__rail-x:hover,.ps__rail-y:focus,.ps__rail-y:hover{background-color:#eee;opacity:.9}.ps__thumb-x{background-color:#aaa;border-radius:6px;transition:background-color .2s linear,height .2s ease-in-out;-webkit-transition:background-color .2s linear,height .2s ease-in-out;height:6px;bottom:2px;position:absolute}.ps__thumb-y{background-color:#aaa;border-radius:6px;transition:background-color .2s linear,width .2s ease-in-out;-webkit-transition:background-color .2s linear,width .2s ease-in-out;width:6px;right:2px;position:absolute}.ps__rail-x:focus>.ps__thumb-x,.ps__rail-x:hover>.ps__thumb-x{background-color:#999;height:11px}.ps__rail-y:focus>.ps__thumb-y,.ps__rail-y:hover>.ps__thumb-y{background-color:#999;width:11px}@supports (-ms-overflow-style:none){.ps{overflow:auto!important}}@media screen and (-ms-high-contrast:active),(-ms-high-contrast:none){.ps{overflow:auto!important}}perfect-scrollbar{position:relative;display:block;width:100%;height:100%;max-width:100%;max-height:100%}perfect-scrollbar[hidden]{display:none}perfect-scrollbar[fxflex]{display:flex;flex-direction:column;-webkit-box-orient:column;-webkit-box-direction:column;height:auto;min-width:0;min-height:0}perfect-scrollbar[fxflex]>.ps{flex:1 1 auto;-ms-flex:1 1 auto;-webkit-box-flex:1;width:auto;height:auto;min-width:0;min-height:0}perfect-scrollbar[fxlayout]{display:flex;flex-direction:inherit;-webkit-box-orient:inherit;-webkit-box-direction:inherit;align-item:inherit;place-content:inherit;-webkit-box-pack:inherit;-webkit-box-align:inherit}perfect-scrollbar[fxlayout]>.ps,perfect-scrollbar[fxlayout]>.ps>.ps-content{display:flex;flex-direction:inherit!important;-webkit-box-orient:inherit!important;-webkit-box-direction:inherit!important;align-item:inherit;place-content:inherit;-webkit-box-pack:inherit;-webkit-box-align:inherit}perfect-scrollbar>.ps{position:static;display:block;width:inherit;height:inherit;max-width:inherit;max-height:inherit}perfect-scrollbar>.ps>.ps-overlay{position:absolute;top:0;right:0;bottom:0;left:0;display:block;overflow:hidden;pointer-events:none}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-bottom,perfect-scrollbar>.ps>.ps-overlay .ps-indicator-left,perfect-scrollbar>.ps>.ps-overlay .ps-indicator-right,perfect-scrollbar>.ps>.ps-overlay .ps-indicator-top{position:absolute;opacity:0;transition:opacity .3s ease-in-out}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-bottom,perfect-scrollbar>.ps>.ps-overlay .ps-indicator-top{left:0;min-width:100%;min-height:24px}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-left,perfect-scrollbar>.ps>.ps-overlay .ps-indicator-right{top:0;min-width:24px;min-height:100%}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-top{top:0}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-left{left:0}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-right{right:0}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-bottom{bottom:0}perfect-scrollbar>.ps.ps--active-y>.ps__rail-y{top:0!important;right:0!important;width:10px;transition:width .2s linear,opacity .2s linear,background-color .2s linear}perfect-scrollbar>.ps.ps--active-y>.ps__rail-y:hover{width:15px}perfect-scrollbar>.ps.ps--active-x>.ps__rail-x{bottom:0!important;left:0!important;height:10px;transition:height .2s linear,opacity .2s linear,background-color .2s linear}perfect-scrollbar>.ps.ps--active-x>.ps__rail-x:hover{height:15px}perfect-scrollbar>.ps.ps--active-x.ps--active-y>.ps__rail-y{margin:0 0 10px}perfect-scrollbar>.ps.ps--active-x.ps--active-y>.ps__rail-x{margin:0 10px 0 0}perfect-scrollbar>.ps.ps--scrolling-y>.ps__rail-y{opacity:.9;background-color:#eee}perfect-scrollbar>.ps.ps--scrolling-x>.ps__rail-x{opacity:.9;background-color:#eee}perfect-scrollbar.ps-show-always>.ps.ps--active-y>.ps__rail-y{opacity:.6}perfect-scrollbar.ps-show-always>.ps.ps--active-x>.ps__rail-x{opacity:.6}perfect-scrollbar.ps-show-active>.ps.ps--active-y>.ps-overlay:not(.ps-at-top) .ps-indicator-top{opacity:1;background:linear-gradient(to bottom,rgba(255,255,255,.5) 0,rgba(255,255,255,0) 100%)}perfect-scrollbar.ps-show-active>.ps.ps--active-y>.ps-overlay:not(.ps-at-bottom) .ps-indicator-bottom{opacity:1;background:linear-gradient(to top,rgba(255,255,255,.5) 0,rgba(255,255,255,0) 100%)}perfect-scrollbar.ps-show-active>.ps.ps--active-x>.ps-overlay:not(.ps-at-left) .ps-indicator-left{opacity:1;background:linear-gradient(to right,rgba(255,255,255,.5) 0,rgba(255,255,255,0) 100%)}perfect-scrollbar.ps-show-active>.ps.ps--active-x>.ps-overlay:not(.ps-at-right) .ps-indicator-right{opacity:1;background:linear-gradient(to left,rgba(255,255,255,.5) 0,rgba(255,255,255,0) 100%)}perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-y>.ps-overlay.ps-at-top .ps-indicator-top{background:linear-gradient(to bottom,rgba(170,170,170,.5) 0,rgba(170,170,170,0) 100%)}perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-y>.ps-overlay.ps-at-top .ps-indicator-top.ps-notify{opacity:1}perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-y>.ps-overlay.ps-at-bottom .ps-indicator-bottom{background:linear-gradient(to top,rgba(170,170,170,.5) 0,rgba(170,170,170,0) 100%)}perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-y>.ps-overlay.ps-at-bottom .ps-indicator-bottom.ps-notify{opacity:1}perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-x>.ps-overlay.ps-at-left .ps-indicator-left{background:linear-gradient(to right,rgba(170,170,170,.5) 0,rgba(170,170,170,0) 100%)}perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-x>.ps-overlay.ps-at-left .ps-indicator-left.ps-notify{opacity:1}perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-x>.ps-overlay.ps-at-right .ps-indicator-right{background:linear-gradient(to left,rgba(170,170,170,.5) 0,rgba(170,170,170,0) 100%)}perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-x>.ps-overlay.ps-at-right .ps-indicator-right.ps-notify{opacity:1}"],encapsulation:core.ViewEncapsulation.None}]}];PerfectScrollbarComponent.ctorParameters=function(){return[{type:core.ChangeDetectorRef},{type:core.ElementRef}]};PerfectScrollbarComponent.propDecorators={disabled:[{type:core.Input}],usePSClass:[{type:core.Input}],autoPropagation:[{type:core.HostBinding,args:["class.ps-show-limits"]},{type:core.Input}],scrollIndicators:[{type:core.HostBinding,args:["class.ps-show-active"]},{type:core.Input}],config:[{type:core.Input}],directiveRef:[{type:core.ViewChild,args:[PerfectScrollbarDirective]}],PS_SCROLL_Y:[{type:core.Output,args:["psScrollY"]}],PS_SCROLL_X:[{type:core.Output,args:["psScrollX"]}],PS_SCROLL_UP:[{type:core.Output,args:["psScrollUp"]}],PS_SCROLL_DOWN:[{type:core.Output,args:["psScrollDown"]}],PS_SCROLL_LEFT:[{type:core.Output,args:["psScrollLeft"]}],PS_SCROLL_RIGHT:[{type:core.Output,args:["psScrollRight"]}],PS_Y_REACH_END:[{type:core.Output,args:["psYReachEnd"]}],PS_Y_REACH_START:[{type:core.Output,args:["psYReachStart"]}],PS_X_REACH_END:[{type:core.Output,args:["psXReachEnd"]}],PS_X_REACH_START:[{type:core.Output,args:["psXReachStart"]}],onGeneratedEvent:[{type:core.HostListener,args:["document:touchstart",["$event"]]}]};return PerfectScrollbarComponent}();var PerfectScrollbarModule=function(){function PerfectScrollbarModule(){}PerfectScrollbarModule.decorators=[{type:core.NgModule,args:[{imports:[common.CommonModule],declarations:[PerfectScrollbarComponent,PerfectScrollbarDirective],exports:[common.CommonModule,PerfectScrollbarComponent,PerfectScrollbarDirective]}]}];PerfectScrollbarModule.ctorParameters=function(){return[]};return PerfectScrollbarModule}();exports.PerfectScrollbarComponent=PerfectScrollbarComponent;exports.PerfectScrollbarDirective=PerfectScrollbarDirective;exports.Geometry=Geometry;exports.Position=Position;exports.PERFECT_SCROLLBAR_CONFIG=PERFECT_SCROLLBAR_CONFIG;exports.PerfectScrollbarConfig=PerfectScrollbarConfig;exports.PerfectScrollbarModule=PerfectScrollbarModule;Object.defineProperty(exports,"__esModule",{value:true})});